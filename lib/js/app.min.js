!function(){"use strict";angular.module("fhir-editor",["ui.router","LocalStorageModule"]).config(function(a,b,c){b.otherwise("/"),a.state("home",{url:"/",templateUrl:"./src/views/home.html",controller:"homeCtrl as home"}).state("home.base",{url:"base",templateUrl:"./src/views/base.html",controller:"baseCtrl as base"}).state("home.affiliations",{url:"affiliations",templateUrl:"./src/views/affiliations.html",controller:"affiliationsCtrl as affiliations"}).state("home.addresses",{url:"addresses",templateUrl:"./src/views/addresses.html",controller:"addressesCtrl as addresses"}).state("home.specialties",{url:"specialties",templateUrl:"./src/views/specialties.html",controller:"specialtiesCtrl as specialties"}).state("home.taxonomies",{url:"taxonomies",templateUrl:"./src/views/taxonomies.html",controller:"taxonomiesCtrl as taxonomies"}).state("home.licenses",{url:"licenses",templateUrl:"./src/views/licenses.html",controller:"licensesCtrl as licenses"}).state("home.notes",{url:"notes",templateUrl:"./src/views/notes.html",controller:"notesCtrl as notes"}).state("home.submit",{url:"submit",templateUrl:"./src/views/submit.html",controller:"submitCtrl as submit"})})}(),angular.module("fhir-editor").service("NPIService",function(){function a(a){return $.ajax({method:"GET",url:"http://npi.npi.io/npi/"+a+".json",success:function(a){return a},error:function(a){return a}})}return{getByNpi:a}}),angular.module("fhir-editor").service("UserService",function(){function a(){gapi.client.setApiKey(i),gapi.auth2.init({client_id:j,scope:"profile"}).then(function(){f=gapi.auth2.getAuthInstance(),f.isSignedIn.listen(b),b(f.isSignedIn.get())})}function b(a){a?(h=!0,g=!0):(h=!1,g=!0)}function c(){return f.signIn({prompt:"login"}),new Promise(function(a,b){var c=setInterval(function(){h&&(a(h),clearInterval(c))},20)})}function d(){return f.signOut(),new Promise(function(a,b){var c=setInterval(function(){h||(a(h),clearInterval(c))},20)})}function e(){return new Promise(function(a,b){var c=setInterval(function(){g&&(a(h),clearInterval(c))},20)})}var f,g=!1,h=!1,i="AIzaSyAoA03P6BEAMdWPYxUBMAJ_zUE-tWOd4No",j="730683845367-dfn6jp8u8ii2u0f1iq8k1gc5noslkte9.apps.googleusercontent.com";return gapi.load("client:auth2",a),{signIn:c,signOut:d,checkSignIn:e}}),angular.module("fhir-editor").controller("addressesCtrl",function(a,b){}),angular.module("fhir-editor").controller("affiliationsCtrl",function(a,b){}),angular.module("fhir-editor").controller("baseCtrl",function(a,b){}),angular.module("fhir-editor").controller("homeCtrl",function(a,b,c){var d=this;this.resultFound=!1,this.npiId=null,this.result={title:null,npiId:null,gender:null,prefix:null,firstName:null,lastName:null,credential:null,status:null,soleProp:null,lastUpdated:null,addresses:null,taxonomies:null,licenses:null},this.runSearch=function(){d.npiId?c.getByNpi(d.npiId).done(function(c){d.npiId=null,d.resultFound=!0,d.result.title=c.title||"N/A",d.result.npiId=c.number||"N/A",d.result.gender=c.basic.gender||"N/A",d.result.prefix=c.basic.name_prefix||"N/A",d.result.firstName=c.basic.first_name||"N/A",d.result.lastName=c.basic.last_name||"N/A",d.result.credential=c.basic.credential||"N/A",d.result.status="A"===c.basic.status?"Active":"Not Active",d.result.soleProp=c.basic.sole_proprietor||"N/A",d.result.lastUpdated=c.basic.last_updated||"N/A",d.result.addresses=c.addresses||"N/A",d.result.taxonomies=c.taxonomy_licenses||"N/A",d.result.licenses=c.licenses||"N/A",a.go("home.base"),b.$apply(),console.log(c)}):console.log("Nothing to search!")},window.onbeforeunload=function(){d.resultFound=!1,a.go("home")}}),angular.module("fhir-editor").controller("licensesCtrl",function(a,b){}),angular.module("fhir-editor").controller("notesCtrl",function(a,b){}),angular.module("fhir-editor").controller("specialtiesCtrl",function(a,b){}),angular.module("fhir-editor").controller("submitCtrl",function(a,b,c){var d=this;this.signedIn=!1,a.checkSignIn().then(function(a){d.signedIn=a,c.$apply()}),this.signIn=function(){a.signIn().then(function(a){d.signedIn=a,c.$apply()})},this.signOut=function(){a.signOut().then(function(a){d.signedIn=a,c.$apply()})},this.submitEdits=function(){console.log("Edits submitted!"),$(".submitEditsBtn").css({background:"lightgreen",color:"white"}).text("Submitted!"),setTimeout(function(){$(".submitEditsBtn").css({background:"buttonface",color:"buttontext"}).text("Submit Edits")},1e3)}}),angular.module("fhir-editor").controller("taxonomiesCtrl",function(a,b){});